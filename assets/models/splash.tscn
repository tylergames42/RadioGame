[gd_scene load_steps=9 format=3 uid="uid://cn848pt85gwr6"]

[ext_resource type="Texture2D" uid="uid://mkuycxvv8c0u" path="res://assets/materials/vfx/water/splash_test.png" id="1_67d25"]
[ext_resource type="AudioStream" uid="uid://b8v6bc2glwmkc" path="res://assets/sounds/water/splashes/splash_test.wav" id="2_0qdwl"]

[sub_resource type="Curve" id="Curve_skp1m"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1e-05, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_qlgoi"]
width = 32
curve = SubResource("Curve_skp1m")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_l5q04"]
particle_flag_rotate_y = true
angle_max = 360.0
angular_velocity_min = 100.0
angular_velocity_max = 150.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_qlgoi")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lrj73"]
transparency = 1
albedo_texture = ExtResource("1_67d25")
heightmap_texture = ExtResource("1_67d25")
texture_filter = 2

[sub_resource type="PlaneMesh" id="PlaneMesh_bfsxp"]
material = SubResource("StandardMaterial3D_lrj73")

[sub_resource type="GDScript" id="GDScript_fr03k"]
script/source = "extends AudioStreamPlayer3D

func _on_finished():
	get_parent().queue_free()
"

[node name="Node3D" type="GPUParticles3D"]
emitting = false
amount = 1
lifetime = 0.5
one_shot = true
process_material = SubResource("ParticleProcessMaterial_l5q04")
draw_pass_1 = SubResource("PlaneMesh_bfsxp")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("2_0qdwl")
autoplay = true
script = SubResource("GDScript_fr03k")

[connection signal="finished" from="AudioStreamPlayer3D" to="AudioStreamPlayer3D" method="_on_finished"]
